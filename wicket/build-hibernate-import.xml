
<project name = "build-hibernate-import">

	<target name        = "buildHibernateDescriptors" 
	        description = "Generates Hibernate class descriptor files."
	        depends     = "buildClasses">

	    <taskdef name         = "hibernatedoclet"
	             classname    = "xdoclet.modules.hibernate.HibernateDocletTask"
	             classpathref = "classpath.sdk"/>
		
	    <hibernatedoclet destdir      = "${folder.src}"
	                     excludedtags = "@version,@author,@todo,@see"
	                     force        = "true"
	                     mergedir     = "${folder.src}"
	                     verbose      = "true">
	    
	        <fileset dir = "${folder.src}">
	            <include name = "**/*.java"/>
	        </fileset>
	    
            <hibernate version = "2.0"/>
	    
	    </hibernatedoclet>

	</target>

    <target name        = "createTables" 
    	    description = "Creates database tables">

        <taskdef name         = "schemaexport"
	             classname    = "net.sf.hibernate.tool.hbm2ddl.SchemaExportTask"
        	     classpathref = "classpath.build"/>	       
	    	
	    <schemaexport quiet      = "false" 
	    	          text       = "false" 
	    	          drop       = "false" 
	    	          delimiter  = ";"
	                  properties = "hibernate.properties"
	                  output     = "${folder.build}/schema-export.sql">
	    	
	        <fileset dir = "${folder.build.classes}" includes = "**/*.hbm.xml"/>
	    	
	    </schemaexport>
    	
    </target>

</project>
